
#include <iostream>
#include <Windows.h>
#include<map>
#pragma comment(lib,"winmm.lib")
using namespace std;

enum Scale
{
	Rest = 0, C8 = 108, B7 = 107, A7s = 106, A7 = 105, G7s = 104, G7 = 103, F7s = 102, F7 = 101, E7 = 100,
	D7s = 99, D7 = 98, C7s = 97, C7 = 96, B6 = 95, A6s = 94, A6 = 93, G6s = 92, G6 = 91, F6s = 90, F6 = 89,
	E6 = 88, D6s = 87, D6 = 86, C6s = 85, C6 = 84, B5 = 83, A5s = 82, A5 = 81, G5s = 80, G5 = 79, F5s = 78,
	F5 = 77, E5 = 76, D5s = 75, D5 = 74, C5s = 73, C5 = 72, B4 = 71, A4s = 70, A4 = 69, G4s = 68, G4 = 67,
	F4s = 66, F4 = 65, E4 = 64, D4s = 63, D4 = 62, C4s = 61, C4 = 60, B3 = 59, A3s = 58, A3 = 57, G3s = 56,
	G3 = 55, F3s = 54, F3 = 53, E3 = 52, D3s = 51, D3 = 50, C3s = 49, C3 = 48, B2 = 47, A2s = 46, A2 = 45,
	G2s = 44, G2 = 43, F2s = 42, F2 = 41, E2 = 40, D2s = 39, D2 = 38, C2s = 37, C2 = 36, B1 = 35, A1s = 34,
	A1 = 33, G1s = 32, G1 = 31, F1s = 30, F1 = 29, E1 = 28, D1s = 27, D1 = 26, C1s = 25, C1 = 24, B0 = 23,
	A0s = 22, A0 = 21
};
enum Voice
{
	X1 = C2, X2 = D2, X3 = E2, X4 = F2, X5 = G2, X6 = A2, X7 = B2,
	L1 = C3, L2 = D3, L3 = E3, L4 = F3, L5 = G3, L6 = A3, L7 = B3,
	M1 = C4, M2 = D4, M3 = E4, M4 = F4, M5 = G4, M6 = A4, M7 = B4,
	H1 = C5, H2 = D5, H3 = E5, H4 = F5, H5 = G5, H6 = A5, H7 = B5,
	LOW_SPEED = 500, MIDDLE_SPEED = 400, HIGH_SPEED = 300,
	_ = 0XFF
};
void ci(int* a) {

	*a += 1;

	map<int, string> words = {
		{93, "这"}, {94, "一"}, {95, "路"}, {96, "上"}, {97, "走"}, {98, "走"}, {99, "停"}, {100, "停"},
		{101, "顺"},{102, "着"},{103, "少"},{104, "年"},{105, "漂"},{106, "流"},{107, "的"},{108, "痕"},{109, "迹\n"},
		//                ，                               。
{110, "迈"}, {111, "出"}, {112, "车"}, {113, "站"}, {114, "的"}, {115, "前"}, {116, "一"}, {117, "刻"},
{118, "竟"},{119, "有"},{120, "些"},{121, "犹"},{122, "豫\n"},{123, "不"},{124, "禁"},{125, "笑"},{126, "这"},
{127,"近"},{128,"乡"},{129,"情"},{130,"怯"},{131,"仍"},{132,"无"},{133,"可"},{134,"避"},{135,"免\n"},
{136,"而"},{137,"长"},{138,"野"},{139,"的"},{140,"天\n"},{141,"依"},{142,"旧"},{143,"那"},{144,"么"},{145,"暖\n"},{146,"风"},{147,"吹"},{148,"起"},
//         ，                    。                        ，                                         
{149,"了"},{150,"从"},{151,"前\n"},{152,"从"},{153,"前"},{154,"初"},{155,"识"},{156,"这"},{157,"世"},{158,"间\n"},
{159,"万"},{160,"般"},{161,"流"},{162,"连\n"},{163,"看"},{164,"着"},{165,"天"},
{166,"边"},{167,"似"},{168,"在"},{169,"眼"},{170,"前\n"},{171,"也"},{172,"甘"},{173,"愿"},{174,"赴"},{175,"汤"},{176,"蹈"},
{177,"火"},{178,"去"},{179,"走"},{180,"它"},{181,"一"},{182,"遍\n"},{184,"如"},{185,"今"},{186,"走"},{187,"过"},
{188,"这"},
{189,"世"},{190,"间\n"},{191,"万"},{192,"般"},{193,"流"},{194,"连"},{195,"翻"},{196,"过"},{197,"岁"},
{198,"月"},{199,"不"},{200,"同"},{201,"侧"},{202,"脸\n"},{203,"措"},{204,"不"},{205,"及"},{206,"防"},
{207,"闯"},{208,"入"},{209,"你"},{210,"的"},{211,"笑"},{212,"颜\n"},{213,"我"},{214,"曾"},{215,"难"},

{216,"自"},{217,"拔"},{218,"于"},{219,"世"},{220,"界"},{221,"之"},{222,"大\n"},
{224,"也"},{225,"沉"},{226,"溺"},{227,"于"},{228,"其"},{229,"中"},{230,"梦"},{231,"话\n"},
{233,"不"},{234,"得"},{235,"真"},{236,"假\n"},
{237,"不"},{238,"做"},{239,"挣"},{240,"扎\n"},
{241,"不"},{242,"惧"},{243,"笑"},{245,"话\n"},

{250,"我"},{251,"曾"},{252,"将"},{253,"青"},{254,"春"},{255,"翻"},{256,"涌"},{257,"成"},{258,"她\n"},
{259,"也"},{260,"曾"},{261,"指"},{262,"尖"},{263,"弹"},{264,"出"},{265,"盛"},{266,"夏\n"},
{267,"心"},{268,"之"},{269,"所"},{270,"动\n"},
{271,"且"},{272,"就"},{273,"随"},{274,"缘"},{275,"去"},{276,"吧\n"},
{277,"逆"},{278,"着"},{279,"光"},{280,"行"},{281,"走\n"},
{282,"任"},{283,"风"},{284,"吹"},{285,"雨"},{286,"打\n"},

{331,"短"},{332,"短"},{333,"的"},{334,"路"},{335,"走"},{336,"走"},{337,"停"},{338,"停\n"},
{339,"也"},{340,"有"},{341,"了"},{342,"几"},{344,"分"},{345,"的"},{346,"距"},{347,"离\n"},
{348,"不"},{349,"知"},{350,"抚"},{351,"摸"},
{352,"的"},{353,"是"},{354,"故"},{355,"事\n"},{356,"还"},{357,"是"},{358,"段"},{359,"心"},{360,"情\n"},
{361,"也"},{362,"许"},{363,"期"},{364,"待"},{365,"的"},{366,"不"},{367,"过"},{368,"是"},{369,"与"},{370,"时"},
{371,"间"},{372,"为"},{373,"敌\n"},{374,"再"},{375,"次"},{376,"看"},{377,"到"},{378,"你\n"},{379,"微"},{380,"凉"},
{381,"晨"},{382,"光"},{383,"里\n"},{384,"笑"},{385,"的"},{386,"很"},{387,"甜"},{388,"蜜\n"},{390,"从"},
{391,"前"},{392,"初"},{393,"识"},{394,"这"},{395,"世"},{396,"间\n"},{397,"万"},{398,"般"},{399,"流"},{400,"连\n"},
{401,"看"},{402,"着"},{403,"天"},{404,"边"},{405,"似"},{406,"在"},{407,"眼"},{408,"前\n"},{409,"也"},{410,"甘"},{411,"愿"},
{412,"赴"},{413,"汤"},{414,"蹈"},{415,"火"},{416,"去"},{417,"走"},{418,"它"},{419,"一"},{420,"遍\n"},
{422,"如"},{423,"今"},{424,"走"},{425,"过"},{426,"这"},{427,"世"},{428,"间\n"},
{429,"万"},{430,"般"},{431,"流"},{432,"连\n"},
{433,"翻"},{434,"过"},{435,"岁"},{436,"月"},{437,"不"},{438,"同"},{439,"侧"},{440,"脸\n"},
{441,"措"},{442,"不"},{443,"及"},{444,"防"},{445,"闯"},{446,"入"},{447,"你"},{448,"的"},{449,"笑"},{450,"颜\n"},
{452,"我"},{453,"曾"},{454,"难"},{455,"自"},{456,"拔"},{457,"于"},{458,"世"},{459,"界"},{460,"之"},{461,"大\n"},
{462,"也"},{463,"沉"},{464,"溺"},{465,"于"},{466,"其"},{467,"中"},{468,"梦"},{469,"话\n"},
{470,"不"},{471,"得"},{472,"真"},{473,"假\n"},
{474,"不"},{475,"做"},{476,"挣"},{477,"扎\n"},
{478,"不"},{479,"惧"},{480,"笑"},{481,"话\n"},
{488,"我"},{489,"曾"},{490,"将"},{491,"青"},{492,"春"},{493,"翻"},{494,"涌"},{495,"成"},{496,"她\n"},
{497,"也"},{498,"曾"},{499,"指"},{500,"尖"},{501,"弹"},{502,"出"},{503,"盛"},{504,"夏"},{506,"心"},{507,"之"},{508,"所"},{509,"动\n"},

{510,"就"},{511,"随"},{512,"缘"},{513,"去"},{514,"吧\n"},
{515,"晚"},{516,"风"},{517,"吹"},{518,"起"},{519,"你"},{520,"鬓"},{521,"间"},{522,"的"},{523,"白"},{524,"发\n"},
{525,"抚"},{526,"平"},{527,"回"},{528,"忆"},{529,"留"},{530,"下"},{531,"的"},{532,"疤\n"},{533,"你"},{534,"的"},{535,"眼"},{536,"中\n"},
{540,"明"},{542,"暗"},{543,"交"},{544,"杂"},{545,"一"},{548,"笑"},{549,"生"},{550,"花\n"},
{551,"暮"},{552,"色"},{553,"遮"},{554,"住"},{555,"你"},{556,"蹒"},{557,"跚"},{558,"的"},{559,"步"},{560,"伐\n"},
{561,"走"},{562,"进"},{563,"床"},{564,"头"},{565,"藏"},{566,"起"},{567,"的"},{568,"画\n"},
{569,"画"},{570,"中"},{571,"的"},{572,"你\n"},
{573,"低"},{574,"着"},{575,"头"},{576,"说"},{577,"话\n"},
{578,"我"},{579,"仍"},{580,"感"},{581,"叹"},{582,"于"},{583,"世"},{584,"界"},{585,"之"},{586,"大\n"},
{587,"也"},{588,"沉"},{589,"醉"},{590,"于"},{591,"儿"},{592,"时"},{593,"情"},{595,"话\n"},

{597,"不"},{599,"剩"},{600,"真"},{601,"假\n"}, {603,"不"},{604,"做"},{605,"挣"},{606,"扎\n"},
{607,"无"},{608,"谓"},{611,"笑"},{612,"话\n"},

{613,"我"},{614,"终"},{615,"将"},{616,"青"},{617,"春"},{618,"还"},{619,"给"},{620,"了"},{621,"她\n"},
{622,"连"},{623,"同"},{624,"指"},{625,"尖"},{626,"弹"},{627,"出"},{628,"的"},{629,"盛"},{630,"夏\n"},
{631,"心"},{632,"之"},{633,"所"},{634,"动\n"},
{635,"就"},{636,"随"},{637,"风"},{638,"去"},{639,"了\n"},
{640,"以"},{641,"爱"},{642,"之"},{643,"名\n"},
{644,"你"},{645,"还"},{646,"愿"},{647,"意"},{648,"吗"}
	};
	auto it = words.find(*a);
	if (it != words.end()) {
		cout << it->second;
	}
}
void Wind()
{

	int c = 0; //歌词
	HMIDIOUT handle;
	midiOutOpen(&handle, 0, 0, 0, CALLBACK_NULL);
	int volume = 0x7f;
	int voice = 0x0;
	int sleep = 350;
	int wind[] =
	{
		//前奏
	  400,0,L7,M1,M2,M3,300,L3,0,M5,M3,300,L2,L5,2,_,0,L7,M1,M2,M3,300,L2,0,M5,M3,M2,M3,M1,M2,L7,M1,300,L5,0,L7,M1,M2,M3,300,L3,0,M5,M3,300,L2,L5,2,_,0,L7,M1,M2,M3,300,L2,0,M5,M3,M2,M3,M1,M2,L7,M1,300,L5,0,L7,M1,M2,M3,300,L3,0,M5,M3,300,L2,L5,2,_,0,L7,M1,M2,M3,300,L2,0,M5,M3,M2,M3,M1,M2,L7,M1,300,L5,0,L7,M1,M2,M3,300,L3,0,M5,M3,300,L2,L5,2,_,0,M6,M3,M2,L6,M3,L6,M2,M3,L6,_,_,_,
	  M2,700,0,M1,300,M2,700,0,M1,300,M2,M3,M5,0,M3,700,300,M2,700,0,M1,300,M2,700,0,M1,M2,M3,M2,M1,300,L5,_,
	  M2,700,0,M1,300,M2,700,0,M1,300,M2,M3,M5,0,M3,700,300,M2,700,0,M3,300,M2,0,M1,700,300,M2,_,_,_,
	  M2,700,0,M1,300,M2,700,0,M1,300,M2,M3,M5,0,M3,700,300,M2,700,0,M3,300,M2,0,M1,700,300,L6,_,
	  0,M3,M2,M1,M2,300,M1,_,0,M3,M2,M1,M2,300,M1,700,0,L5,M3,M2,M1,M2,300,M1,_,_,_,
	  M1,M2,M3,M1,M6,0,M5,M6,300,_,700,0,M1,300,M7,0,M6,M7,300,_,_,M7,0,M6,M7,300,_,M3,0,H1,H2,H1,M7,300,M6,M5,M6,0,M5,M6,_,M5,M6,M5,300,M6,0,M5,M2,300,_,0,M5,
	  700,300,M3,_,_,_,M1,M2,M3,M1,M6,0,M5,M6,300,_,700,0,M1,300,M7,0,M6,M7,300,_,_,M7,0,M6,M7,300,_,M3,0,H1,H2,H1,M7,300,M6,M5,M6,0,H3,H3,300,_,M5,M6,0,H3,H3,300,_,0,M5,700,300,M6,_,_,_,_,_,
	  H1,H2,H3,0,H6,H5,300,_,0,H6,H5,300,_,0,H6,H5,300,_,0,H2,H3,300,H3,0,H6,H5,300,_,0,H6,H5,300,_,0,H6,H5,300,_,0,H2,H3,300,H2,0,H1,M6,300,_,0,H1,H1,300,H2,0,H1,300,M6,700,0,_,300,H1,700,H3,_,0,H3,H4,H3,H2,H3,300,H2,700,
	  H1,H2,H3,0,H6,H5,_,H6,H5,_,H6,H5,300,_,H3,H3,0,H6,H5,_,H6,H5,_,H6,H5,700,300,H3,700,H2,0,H1,M6,700,300,H3,700,H2,0,H1,300,M6,700,H1,H1,_,_,_,_,_,
	  0,M6,300,H3,700,H2,0,H1,M6,700,300,H3,H2,700,300,0,H1,M6,300,700,H1,H1,_,_,
	  0,L7,M1,M2,M3,300,L3,0,M5,M3,300,L2,L5,2,_,0,L7,M1,M2,M3,300,L2,0,M5,M3,M2,M3,M1,M2,L7,M1,300,L5,0,L7,M1,M2,M3,300,L3,0,M5,M3,300,L2,L5,2,_,
	  0,M6,M3,M2,L6,M3,L6,M2,M3,L6,_,_,_,
	  //  中途伴奏
		  M2,700,0,M1,300,M2,700,0,M1,300,M2,M3,M5,0,M3,700,300,M2,700,0,M1,300,M2,700,0,M1,M2,M3,M2,M1,300,L5,_,
		  M2,700,0,M1,300,M2,700,0,M1,300,M2,M3,M5,0,M3,700,300,M2,700,0,M3,300,M2,0,M1,700,300,M2,_,_,_,
		  M2,700,0,M1,300,M2,700,0,M1,300,M2,M3,M5,0,M3,700,300,M2,700,0,M3,300,M2,0,M1,700,300,L6,_,
		  0,M3,M2,M1,M2,300,M1,_,0,M3,M2,M1,M2,300,M1,700,0,L5,M3,M2,M1,M2,300,M1,_,_,_,
		  M1,M2,M3,M1,M6,0,M5,M6,300,_,700,0,M1,300,M7,0,M6,M7,300,_,_,M7,0,M6,M7,300,_,M3,0,H1,H2,H1,M7,300,M6,M5,M6,0,M5,M6,_,M5,M6,M5,300,M6,0,M5,M2,300,_,0,M5,700,300,M3,_,_,_,
		  M1,M2,M3,M1,M6,0,M5,M6,300,_,700,0,M1,300,M7,0,M6,M7,300,_,_,M7,0,M6,M7,300,_,M3,0,H1,H2,H1,M7,300,M6,M5,M6,0,H3,H3,300,_,M5,M6,0,H3,H3,300,_,0,M5,700,300,M6,_,_,_,_,_,
		  H1,H2,H3,0,H6,H5,300,_,0,H6,H5,300,_,0,H6,H5,300,_,0,H2,H3,300,H3,0,H6,H5,300,_,0,H6,H5,300,_,0,H6,H5,300,_,0,H2,H3,300,H2,0,H1,M6,300,_,0,H1,H1,300,H2,0,H1,300,M6,700,0,_,300,H1,700,H3,_,0,H3,H4,H3,H2,H3,300,H2,700,
		  H1,H2,H3,0,H6,H5,_,H6,H5,_,H6,H5,300,_,H3,H3,0,H6,H5,_,H6,H5,_,H6,H5,700,300,H3,700,
		  H2,0,H1,M6,700,300,H3,700,H2,0,H1,300,M6,700,H1,H1,_,_,_,_,_,
		  H1,H2,H3,0,H6,H5,300,_,0,H6,H5,300,_,0,H6,H5,300,_,0,H2,H3,300,H3,0,H6,H5,300,_,0,H6,H5,300,_,0,H6,H5,300,_,0,H2,H3,300,H2,0,H1,M6,300,_,0,H1,H1,300,H2,0,H1,300,M6,700,0,_,300,H1,700,H3,_,0,H3,H4,H3,H2,H3,300,H2,700,
		  H1,H2,H3,0,H6,H5,_,H6,H5,_,H6,H5,300,_,H3,H3,0,H6,H5,_,H6,H5,_,H6,H5,700,300,H3,700,
		  H2,0,H1,M6,700,300,H3,700,H2,0,H1,300,M6,700,H1,H1,_,_,_,_,_,
		  H1,H2,H3,0,H6,H5,300,_,0,H6,H5,300,_,0,H6,H5,300,_,0,H2,H3,300,H3,0,H6,H5,300,_,0,H6,H5,300,_,0,H6,H5,300,_,0,H2,H3,300,H2,0,H1,M6,300,_,0,H1,H1,300,H2,0,H1,300,M6,700,0,_,300,H1,700,H3,_,0,H3,H4,H3,H2,H3,300,H2,700,
		  H1,H2,H3,0,H6,H5,_,H6,H5,_,H6,H5,300,_,H3,H3,0,H6,H5,_,H6,H5,_,H6,H5,700,300,H3,700,
		  H2,0,H1,M6,700,300,H3,700,H2,0,H1,300,M6,700,H1,H1,_,_,_,_,_,
		  0,M6,300,H3,700,H2,0,H1,M6,700,300,H3,H2,700,300,0,H1,M6,300,700,H1,H1,_,_,_,_,_,_,_,
	};

	for (auto i : wind) {
		if (i == 0) { sleep = 175; continue; }
		if (i == 700) { Sleep(175); continue; }
		if (i == 300) { sleep = 350; continue; }
		if (i == _) {
			Sleep(350);
			continue;
		}
		voice = (volume << 16) + ((i) << 8) + 0x90;
		midiOutShortMsg(handle, voice);
		//cout << voice ;
		ci(&c);
		Sleep(sleep);
	}
	midiOutClose(handle);
}
int main()
{
	cout << "本代码调用windows api 写出，非音乐播放器伴奏" << endl;
	Sleep(3000);
	system("cls");
	Wind();
	return 0;
}